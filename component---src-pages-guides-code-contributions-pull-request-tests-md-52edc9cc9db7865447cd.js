"use strict";(self.webpackChunkcommerce_contributor=self.webpackChunkcommerce_contributor||[]).push([[90],{244:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return m}});var n=a(7462),s=a(3366),l=(a(5007),a(4983)),i=a(1515),r=["components"],o={},d={_frontmatter:o},u=i.Z;function m(e){var t=e.components,a=(0,s.Z)(e,r);return(0,l.mdx)(u,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"pull-request-tests"},"Pull request tests"),(0,l.mdx)("p",null,"Automated testing infrastructure runs all required automated tests against code in pull requests. You can trigger automated tests by adding a comment to a pull request. Tests are represented both as pull request statuses and checks."),(0,l.mdx)("p",null,"The following sections describe the different kinds of tests that are currently available."),(0,l.mdx)("h2",{id:"semantic-version-checker"},"Semantic version checker"),(0,l.mdx)("p",null,"Semantic Version Checker is a test that compares the changed code against the mainline and detects levels of code changes. It shows a list of changes grouped by the class (level) of changes (MAJOR, MINOR, PATCH) with an explanation of the change (Class was removed, ","[public]"," Method implementation changed, ","[private]"," Property has been removed etc.) The allowed level is PATCH.\nSee ",(0,l.mdx)("a",{parentName:"p",href:"backward-compatibility-policy.md"},"Backward Compatibility Development")," for more information."),(0,l.mdx)("h2",{id:"functional-tests"},"Functional tests"),(0,l.mdx)("p",null,"Functional Tests are PHPUnit-based tests that check functional behavior from the perspective of a user. They click buttons and links in a browser, fill and submit forms, verify what is displayed in the browser window like real users."),(0,l.mdx)("h2",{id:"sample-data-tests"},"Sample data tests"),(0,l.mdx)("p",null,"Sample Data Tests are functional tests that run on Magento Open Source with Sample Data included."),(0,l.mdx)("h2",{id:"unit-tests"},"Unit tests"),(0,l.mdx)("p",null,"Unit tests are PHPUnit-based (for PHP) and Jasmine-based (for JS) tests that check the behavior of single methods of Magento Open Source classes. The purpose is to validate that each unit of Magento Open Source performs as designed."),(0,l.mdx)("h2",{id:"integration-tests"},"Integration tests"),(0,l.mdx)("p",null,"Integration Tests are PHPUnit-based tests that check the behavior of a group of Magento Open Source components. They include three types of tests:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Standard Integration tests that check behavior on an installed instance."),(0,l.mdx)("li",{parentName:"ul"},"Setup Integration tests that check behavior during the installation process."),(0,l.mdx)("li",{parentName:"ul"},"Integration Integrity tests that check the consistency of an installed instance (for example, configuration files and database schemes).")),(0,l.mdx)("h2",{id:"webapi-tests"},"WebAPI tests"),(0,l.mdx)("p",null,"WebAPI Tests are functional tests that check the behavior of Web API endpoints. They send requests to endpoints of an installed instance and then check the response received and the state of the instance. Currently they include three kinds of tests:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"SOAP Web API tests"),(0,l.mdx)("li",{parentName:"ul"},"REST Web API tests"),(0,l.mdx)("li",{parentName:"ul"},"GraphQL WEB API tests")),(0,l.mdx)("h2",{id:"static-tests"},"Static tests"),(0,l.mdx)("p",null,"Static Tests are a set of different checks that analyze every single file of the code base separately. Most of them analyze the whole code base, whereas some run only against the change set."),(0,l.mdx)("h2",{id:"database-compare"},"Database compare"),(0,l.mdx)("p",null,"Database Compare is a test that compares the database schema and data between a freshly installed instance (from the pull request code) and another instance that was upgraded to the PR code from the latest minor release version."),(0,l.mdx)("h2",{id:"component-health-index"},"Component health index"),(0,l.mdx)("p",null,"Component Health Index is a test that analyses code quality and calculates a weighted health index (100 is great, lower is worse) for each Component (module). The index is calculated based on three groups of indicators:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("a",{parentName:"li",href:"http://pdepend.org/documentation/software-metrics/index.html"},"General code quality indicators (GCQI)")),(0,l.mdx)("li",{parentName:"ul"},"Magento-specific code quality indicators (MSCQ)"),(0,l.mdx)("li",{parentName:"ul"},"Legacy API usage indicators (LAI)")),(0,l.mdx)("p",null,"Additional information on Automated Testing can be found on the ",(0,l.mdx)("a",{parentName:"p",href:"https://github.com/magento/magento2/wiki/Magento-Automated-Testing"},"project wiki"),"."),(0,l.mdx)("h2",{id:"running-tests-for-a-pull-request"},"Running tests for a pull request"),(0,l.mdx)("p",null,"Automated tests can be triggered manually with an appropriate comment:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"@magento run all tests"),"—run or re-run all required tests against the pull request changes"),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"@magento run <test-build(s)>"),"—run or re-run specific test build(s)")),(0,l.mdx)("p",null,"For example: ",(0,l.mdx)("inlineCode",{parentName:"p"},"@magento run Unit Tests")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"@magento run Unit Tests,Integration Tests")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"<test-build(s)>")," is a comma-separated list of build names. Build names can be copied from the Checks section."),(0,l.mdx)("h2",{id:"test-results"},"Test results"),(0,l.mdx)("p",null,"The build progress and test results are indicated by check runs under the pull request conversation."),(0,l.mdx)("p",null,'Click on the "Details" link to see the results summary and links to corresponding Allure reports.'),(0,l.mdx)("h2",{id:"related-pull-requests"},"Related pull requests"),(0,l.mdx)("p",null,'When a contribution requires changes to more than one repository merged simultaneously, such pull requests should be linked using the "Related Pull Requests" description section.'),(0,l.mdx)("p",null,"The related pull requests should be specified in the pull request description in the following format:"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-text"},"### Related Pull Requests\nhttps://github.com/<organization>/<repository>/pull/<pull request number>\n<links to other realted PRs>\n\x3c!-- related pull request placeholder --\x3e\n")),(0,l.mdx)("p",null,"When the tests are launched against a pull request that contains links to related pull request in the description, the related pull requests branches will be used as a code base for the tests instead of mainline.\nCheck runs will be updated for each of the related pull requests."),(0,l.mdx)("p",null,"Related pull requests are delivered to Magento Open Source repositories simultaneously."))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-code-contributions-pull-request-tests-md-52edc9cc9db7865447cd.js.map